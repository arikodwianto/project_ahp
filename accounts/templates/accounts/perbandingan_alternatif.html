{% extends 'admin.html' %}

{% block content %}
<div class="container mt-5">

  <h2 class="mb-4 text-primary fw-bold">Perbandingan Alternatif Berdasarkan Kriteria</h2>

  <form method="post" novalidate>
    {% csrf_token %}

    {% for kriteria in kriteria_list %}
      <div class="card shadow-sm mb-4">
        <div class="card-header bg-primary text-white fw-bold">
          Kriteria: {{ kriteria.nama }}
        </div>
        <div class="card-body table-responsive">
          <table class="table table-bordered table-hover align-middle">
            <thead class="table-light">
              <tr>
                <th>Alternatif 1</th>
                <th>Alternatif 2</th>
                <th style="min-width: 180px;">Nilai Perbandingan</th>
              </tr>
            </thead>
            <tbody>
              {% for i in alternatif_list %}
                {% for j in alternatif_list %}
                  {% if i.id < j.id %}
                  <tr>
                    <td>
                      {% if i.penggunaan %}
                        {{ i.penggunaan.nama_penggunaan }}
                      {% else %}
                        <span class="text-muted fst-italic">(Belum ada penggunaan belanja)</span>
                      {% endif %}
                    </td>
                    <td>
                      {% if j.penggunaan %}
                        {{ j.penggunaan.nama_penggunaan }}
                      {% else %}
                        <span class="text-muted fst-italic">(Belum ada penggunaan belanja)</span>
                      {% endif %}
                    </td>
                    <td>
                      <input type="number" step="0.01" min="1" max="9" class="form-control" name="{{ kriteria.id }}_{{ i.id }}_{{ j.id }}" value="1" required>
                      <small class="text-muted d-block mt-1">Isi nilai 1â€“9 (AHP)</small>
                    </td>
                  </tr>
                  {% endif %}
                {% endfor %}
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    {% endfor %}

    <button type="submit" class="btn btn-primary btn-lg shadow-sm">
      <i class="bi bi-save2 me-2"></i> Simpan Perbandingan
    </button>
  </form>
</div>

<!-- Bootstrap Icons CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

{% endblock %}
